{"version":3,"sources":["main.js"],"names":["formLoc","document","querySelector","nameLoc","mailLoc","subjectLoc","messageLoc","buttonLoc","validateEmpty","input","turnOnErrorShow","value","length","nextElementSibling","innerText","classList","remove","add","validationPass","validateEmail","String","toLowerCase","match","addEventListener","e","target","preventDefault","console","log","formData","FormData","url","getAttribute","method","fetch","toUpperCase","body","then","res","json","errors","status","catch","err","markActivedInput","unmarkActivedInput","slidesLoc","slideLoc","querySelectorAll","barLoc","slidesNumber","moveSlider","barID","forEach","elem","style","left","i","window","setInterval"],"mappings":"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","file":"all.min.js","sourcesContent":["// contact form validation\r\n\r\nconst formLoc = document.querySelector(\"#contact-form\");\r\n\r\nconst nameLoc = document.querySelector(\"#name\");\r\nconst mailLoc = document.querySelector(\"#mail\");\r\nconst subjectLoc = document.querySelector(\"#subject\");\r\nconst messageLoc = document.querySelector(\"#message\");\r\n\r\nconst buttonLoc = document.querySelector(\"button\");\r\n\r\nconst validateEmpty = (input, turnOnErrorShow) => {\r\n    if (!input.value.length) {\r\n        if (turnOnErrorShow) {\r\n            input.nextElementSibling.innerText = \"To pole jest wymagane.\";\r\n            input.classList.add(\"error\");\r\n            validationPass = false;\r\n        }\r\n    } else if (input.nextElementSibling.innerText === \"To pole jest wymagane.\") {\r\n        input.nextElementSibling.innerText = \"\";\r\n        input.classList.remove(\"error\");\r\n    }\r\n}\r\n\r\nconst validateEmail = (input, turnOnErrorShow) => {\r\n    if (input.value.length) {\r\n        if (!String(input.value).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\r\n            if (turnOnErrorShow) {\r\n                input.nextElementSibling.innerText = \"Nieprawidłowy adres e-mail.\";\r\n                input.classList.add(\"error\");\r\n                validationPass = false;\r\n            }\r\n        } else if (input.nextElementSibling.innerText === \"Nieprawidłowy adres e-mail.\") {\r\n            input.nextElementSibling.innerText = \"\";\r\n            input.classList.remove(\"error\");\r\n        }\r\n    } else if (input.nextElementSibling.innerText === \"Nieprawidłowy adres e-mail.\") {\r\n        input.nextElementSibling.innerText = \"\";\r\n        input.classList.remove(\"error\");\r\n    }\r\n}\r\n\r\nnameLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nmailLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n    validateEmail(e.target, false); \r\n});\r\nmailLoc.addEventListener(\"blur\", (e) => {\r\n    validateEmail(e.target, true); \r\n});\r\n\r\nsubjectLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nmessageLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nbuttonLoc.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    let validationPass = true;\r\n    validateEmpty(nameLoc, true); \r\n    validateEmpty(mailLoc, true); \r\n    validateEmail(mailLoc, true); \r\n    validateEmpty(subjectLoc, true); \r\n    validateEmpty(messageLoc, true); \r\n\r\n    if (validationPass) {\r\n        console.log(\"Walidacja prawidłowa! :)\");\r\n        \r\n        const formData = new FormData(formLoc);\r\n\r\n        console.log(formData)\r\n        \r\n        const url = formLoc.getAttribute(\"action\");\r\n        const method = formLoc.getAttribute(\"method\");\r\n\r\n        console.log(url)\r\n        console.log(method)\r\n        \r\n        fetch(url, {\r\n            method: method.toUpperCase(),\r\n            body: formData\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res)\r\n            if (res.errors) { //błędne pola\r\n                // const selectors = res.errors.map(el => `[name=\"${el}\"]`);\r\n                // const fieldsWithErrors = form.querySelectorAll(selectors.join(\",\"));\r\n                // for (const el of fieldsWithErrors) {\r\n                //     markFieldAsError(el, true);\r\n                //     toggleErrorField(el, true);\r\n                // }\r\n                console.log(\"errors\")\r\n            } else { //pola są ok - sprawdzamy status wysyłki\r\n                if (res.status === \"ok\") {\r\n                    //wyświetlamy komunikat powodzenia, cieszymy sie\r\n                    console.log(\"status OK\")\r\n                }\r\n                if (res.status === \"error\") {\r\n                    //komunikat błędu, niepowodzenia\r\n                    console.log(\"status ERROR\")\r\n                }\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            // buttonLoc.disabled = false;\r\n            // submit.classList.remove(\"loading\");\r\n            console.log(err)\r\n        })\r\n    } else {\r\n        console.log(\"Walidacja nieprawidłowa! :(\");\r\n    }\r\n});\r\n\r\nconst markActivedInput = (input) => {\r\n    input.classList.add(\"active\");\r\n}\r\n\r\nconst unmarkActivedInput = (input) => {\r\n    input.classList.remove(\"active\");\r\n}\r\n\r\nnameLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nnameLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nmailLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nmailLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nsubjectLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nsubjectLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nmessageLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nmessageLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\n// slider\r\nconst slidesLoc = document.querySelector(\".slides\");\r\nconst slideLoc = document.querySelectorAll(\".slides .slide\");\r\nconst barLoc = document.querySelectorAll(\".bar\");\r\n\r\nconst slidesNumber = slideLoc.length\r\n\r\nif (slideLoc) {\r\n\r\n    const moveSlider = (barID) => {\r\n        barLoc.forEach((elem) => {\r\n            elem.classList.remove(\"active\");\r\n        })\r\n\r\n        barLoc[barID].classList.add(\"active\");\r\n\r\n        slidesLoc.style.left = `-${100 * barID}%`\r\n    }\r\n\r\n    let i = 1;\r\n    window.setInterval(() => {\r\n    \r\n        moveSlider(i);\r\n        i++\r\n        if (i === slidesNumber) { i = 0; } \r\n\r\n    }, 5000);\r\n}"]}