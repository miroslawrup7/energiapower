{"version":3,"sources":["main.js"],"names":["nameLoc","document","querySelector","mailLoc","subjectLoc","messageLoc","nameErrLoc","mailErrLoc","mailErrLoc2","subjectErrLoc","messageErrLoc","buttonLoc","formLoc","validationPass","validateEmpty","e","input","target","validateEmptyAll","value","length","nextElementSibling","classList","add","id","remove","validateAll","preventDefault","validateEmailAll","console","log","formData","FormData","url","getAttribute","method","fetch","toUpperCase","body","then","res","json","errors","status","catch","err","validateEmail","emailLoc","String","toLowerCase","match","addEventListener","slidesLoc","slideLoc","querySelectorAll","barLoc","slidesNumber","moveSlider","barID","forEach","elem","style","left","i","window","setInterval"],"mappings":"AAEA,MAAAA,QAAAC,SAAAC,cAAA,SACAC,QAAAF,SAAAC,cAAA,SACAE,WAAAH,SAAAC,cAAA,YACAG,WAAAJ,SAAAC,cAAA,YAEAI,WAAAL,SAAAC,cAAA,eACAK,WAAAN,SAAAC,cAAA,eACAM,YAAAP,SAAAC,cAAA,gBACAO,cAAAR,SAAAC,cAAA,kBACAQ,cAAAT,SAAAC,cAAA,kBAEAS,UAAAV,SAAAC,cAAA,UAEAU,QAAAX,SAAAC,cAAA,iBAEA,IAAAW,gBAAA,EAEA,MAAAC,cAAAC,IACAC,MAAAD,EAAAE,OACAC,iBAAAF,MAAA,EAGAE,iBAAAF,IACA,IAAAA,EAAAG,MAAAC,QACAJ,EAAAK,mBAAAC,UAAAC,IAAA,UACAV,gBAAA,EACA,SAAAG,EAAAQ,IACAhB,YAAAc,UAAAG,OAAA,UAEAT,EAAAM,UAAAC,IAAA,WAEAP,EAAAK,mBAAAC,UAAAG,OAAA,UACAT,EAAAM,UAAAG,OAAA,SACA,EAGAC,YAAAX,IAWA,GAVAF,gBAAA,EACAE,EAAAY,iBAEAT,iBAAAlB,SACAkB,iBAAAf,SACAe,iBAAAd,YACAc,iBAAAb,YAEAuB,iBAAAzB,SAEAU,eAAA,CACAgB,QAAAC,IAAA,4BAEA,MAAAC,EAAA,IAAAC,SAAApB,SAEAiB,QAAAC,IAAAC,GAEA,MAAAE,EAAArB,QAAAsB,aAAA,UACAC,EAAAvB,QAAAsB,aAAA,UAEAL,QAAAC,IAAAG,GACAJ,QAAAC,IAAAK,GAEAC,MAAAH,EAAA,CACAE,OAAAA,EAAAE,cACAC,KAAAP,IAEAQ,MAAAC,GAAAA,EAAAC,SACAF,MAAAC,IACAX,QAAAC,IAAAU,GACAA,EAAAE,OAOAb,QAAAC,IAAA,WAEA,OAAAU,EAAAG,QAEAd,QAAAC,IAAA,aAEA,UAAAU,EAAAG,QAEAd,QAAAC,IAAA,gBAEA,IAEAc,OAAAC,IAGAhB,QAAAC,IAAAe,EAAA,GAKA,MACAhB,QAAAC,IAAA,8BACA,EAGAgB,cAAA/B,IACAC,MAAAD,EAAAE,OACAH,cAAAC,GACAa,iBAAAZ,MAAA,EAGAY,iBAAAmB,IAEAC,OAAAD,EAAA5B,OACA8B,cACAC,MACA,yJAaA,KAAAH,EAAA5B,OACAX,YAAAc,UAAAG,OAAA,UACAtB,QAAAmB,UAAAG,OAAA,WAEAjB,YAAAc,UAAAG,OAAA,UACAZ,gBAAA,EACAV,QAAAmB,UAAAC,IAAA,UAhBA,KAAAwB,EAAA5B,OACAX,YAAAc,UAAAC,IAAA,UACAV,gBAAA,EACAV,QAAAmB,UAAAC,IAAA,WAEAf,YAAAc,UAAAG,OAAA,UACAZ,gBAAA,EACAV,QAAAmB,UAAAC,IAAA,SAWA,EAGAvB,QAAAmD,iBAAA,OAAArC,eACAd,QAAAmD,iBAAA,QAAArC,eAEAX,QAAAgD,iBAAA,OAAAL,eACA3C,QAAAgD,iBAAA,QAAArC,eAEAV,WAAA+C,iBAAA,OAAArC,eACAV,WAAA+C,iBAAA,QAAArC,eAEAT,WAAA8C,iBAAA,OAAArC,eACAT,WAAA8C,iBAAA,QAAArC,eAEAH,UAAAwC,iBAAA,QAAAzB,aAGA,MAAA0B,UAAAnD,SAAAC,cAAA,WACAmD,SAAApD,SAAAqD,iBAAA,kBACAC,OAAAtD,SAAAqD,iBAAA,QAEAE,aAAAH,SAAAjC,OAEA,GAAAiC,SAAA,CAEA,MAAAI,EAAAC,IACAH,OAAAI,SAAAC,IACAA,EAAAtC,UAAAG,OAAA,SAAA,IAGA8B,OAAAG,GAAApC,UAAAC,IAAA,UAEA6B,UAAAS,MAAAC,KAAA,IAAA,IAAAJ,IAAA,EAGA,IAAAK,EAAA,EACAC,OAAAC,aAAA,KAEAR,EAAAM,GACAA,IACAA,IAAAP,eAAAO,EAAA,EAAA,GAEA,IACA","file":"all.min.js","sourcesContent":["// contact form validation\r\n\r\nconst nameLoc = document.querySelector(\"#name\");\r\nconst mailLoc = document.querySelector(\"#mail\");\r\nconst subjectLoc = document.querySelector(\"#subject\");\r\nconst messageLoc = document.querySelector(\"#message\");\r\n\r\nconst nameErrLoc = document.querySelector(\"#name_error\");\r\nconst mailErrLoc = document.querySelector(\"#mail_error\");\r\nconst mailErrLoc2 = document.querySelector(\"#mail_error2\");\r\nconst subjectErrLoc = document.querySelector(\"#subject_error\");\r\nconst messageErrLoc = document.querySelector(\"#message_error\");\r\n\r\nconst buttonLoc = document.querySelector(\"button\");\r\n\r\nconst formLoc = document.querySelector(\"#contact-form\");\r\n\r\nlet validationPass = true;\r\n\r\nconst validateEmpty = (e) => {\r\n    input = e.target;\r\n    validateEmptyAll(input);\r\n};\r\n\r\nconst validateEmptyAll = (input) => {\r\n    if (input.value.length === 0) {\r\n        input.nextElementSibling.classList.add(\"active\");\r\n        validationPass = false;\r\n        if (input.id === \"mail\") {\r\n            mailErrLoc2.classList.remove(\"active\");\r\n        }\r\n        input.classList.add(\"error\");\r\n    } else {\r\n        input.nextElementSibling.classList.remove(\"active\");\r\n        input.classList.remove(\"error\");\r\n    }\r\n};\r\n\r\nconst validateAll = (e) => {\r\n    validationPass = true;\r\n    e.preventDefault();\r\n\r\n    validateEmptyAll(nameLoc);\r\n    validateEmptyAll(mailLoc);\r\n    validateEmptyAll(subjectLoc);\r\n    validateEmptyAll(messageLoc);\r\n\r\n    validateEmailAll(mailLoc);\r\n\r\n    if (validationPass) {\r\n        console.log(\"Walidacja prawidłowa! :)\");\r\n        \r\n        const formData = new FormData(formLoc);\r\n\r\n        console.log(formData)\r\n        \r\n        const url = formLoc.getAttribute(\"action\");\r\n        const method = formLoc.getAttribute(\"method\");\r\n\r\n        console.log(url)\r\n        console.log(method)\r\n        \r\n        fetch(url, {\r\n            method: method.toUpperCase(),\r\n            body: formData\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res)\r\n            if (res.errors) { //błędne pola\r\n                // const selectors = res.errors.map(el => `[name=\"${el}\"]`);\r\n                // const fieldsWithErrors = form.querySelectorAll(selectors.join(\",\"));\r\n                // for (const el of fieldsWithErrors) {\r\n                //     markFieldAsError(el, true);\r\n                //     toggleErrorField(el, true);\r\n                // }\r\n                console.log(\"errors\")\r\n            } else { //pola są ok - sprawdzamy status wysyłki\r\n                if (res.status === \"ok\") {\r\n                    //wyświetlamy komunikat powodzenia, cieszymy sie\r\n                    console.log(\"status OK\")\r\n                }\r\n                if (res.status === \"error\") {\r\n                    //komunikat błędu, niepowodzenia\r\n                    console.log(\"status ERROR\")\r\n                }\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            // buttonLoc.disabled = false;\r\n            // submit.classList.remove(\"loading\");\r\n            console.log(err)\r\n        })\r\n        \r\n\r\n\r\n    } else {\r\n        console.log(\"Walidacja nieprawidłowa! :(\");\r\n    }\r\n};\r\n\r\nconst validateEmail = (e) => {\r\n    input = e.target;\r\n    validateEmpty(e);\r\n    validateEmailAll(input);\r\n};\r\n\r\nconst validateEmailAll = (emailLoc) => {\r\n    if (\r\n        !String(emailLoc.value)\r\n            .toLowerCase()\r\n            .match(\r\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n            )\r\n    ) {\r\n        if (emailLoc.value !== \"\") {\r\n            mailErrLoc2.classList.add(\"active\");\r\n            validationPass = false;\r\n            mailLoc.classList.add(\"error\");\r\n        } else {\r\n            mailErrLoc2.classList.remove(\"active\");\r\n            validationPass = false;\r\n            mailLoc.classList.add(\"error\");\r\n        }\r\n    } else {\r\n        if (emailLoc.value !== \"\") {\r\n            mailErrLoc2.classList.remove(\"active\");\r\n            mailLoc.classList.remove(\"error\");\r\n        } else {\r\n            mailErrLoc2.classList.remove(\"active\");\r\n            validationPass = false;\r\n            mailLoc.classList.add(\"error\");\r\n        }\r\n    }\r\n};\r\n\r\n    nameLoc.addEventListener(\"blur\", validateEmpty);\r\n    nameLoc.addEventListener(\"keyup\", validateEmpty);\r\n    \r\n    mailLoc.addEventListener(\"blur\", validateEmail);\r\n    mailLoc.addEventListener(\"keyup\", validateEmpty);\r\n\r\n    subjectLoc.addEventListener(\"blur\", validateEmpty);\r\n    subjectLoc.addEventListener(\"keyup\", validateEmpty);\r\n    \r\n    messageLoc.addEventListener(\"blur\", validateEmpty);\r\n    messageLoc.addEventListener(\"keyup\", validateEmpty);\r\n\r\n    buttonLoc.addEventListener(\"click\", validateAll);\r\n\r\n    // slider\r\n    const slidesLoc = document.querySelector(\".slides\");\r\n    const slideLoc = document.querySelectorAll(\".slides .slide\");\r\n    const barLoc = document.querySelectorAll(\".bar\");\r\n\r\n    const slidesNumber = slideLoc.length\r\n\r\n    if (slideLoc) {\r\n\r\n        const moveSlider = (barID) => {\r\n            barLoc.forEach((elem) => {\r\n                elem.classList.remove(\"active\");\r\n            })\r\n\r\n            barLoc[barID].classList.add(\"active\");\r\n\r\n            slidesLoc.style.left = `-${100 * barID}%`\r\n        }\r\n\r\n        let i = 1;\r\n        window.setInterval(() => {\r\n        \r\n            moveSlider(i);\r\n            i++\r\n            if (i === slidesNumber) { i = 0; } \r\n\r\n        }, 5000);\r\n    }"]}